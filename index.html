<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameCreators Academy - M√≥dulo 1: Fundamentos de Programa√ß√£o + Git</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2196F3;
            --secondary: #4CAF50;
            --accent: #FF9800;
            --light-bg: #F8F9FA;
            --dark-text: #212529;
            --dark-header: #1A1A2E;
            --white: #FFFFFF;
            --success: #28A745;
            --warning: #FFC107;
            --error: #DC3545;
            --shadow-light: rgba(33, 150, 243, 0.1);
            --shadow-medium: rgba(33, 150, 243, 0.2);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--light-bg);
            color: var(--dark-text);
            line-height: 1.6;
        }

        /* Login Screen */
        .login-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .login-card {
            background: var(--white);
            padding: 3rem;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }

        .login-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .login-subtitle {
            color: var(--dark-text);
            margin-bottom: 2rem;
            opacity: 0.8;
        }

        .form-group {
            margin-bottom: 1.5rem;
            text-align: left;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark-text);
        }

        .form-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #E9ECEF;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        .login-button {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-bottom: 1rem;
        }

        .login-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(33, 150, 243, 0.3);
        }

        .admin-button {
            background: var(--accent);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            color: white;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .error-message {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid var(--error);
            color: var(--error);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            display: none;
        }

        .success-message {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid var(--success);
            color: var(--success);
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            display: none;
        }

        /* Admin Panel */
        .admin-panel {
            background: var(--white);
            border-radius: 15px;
            padding: 2rem;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
        }

        .admin-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 2rem;
            text-align: center;
        }

        .ra-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #E9ECEF;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        .ra-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            border-bottom: 1px solid #F1F3F4;
        }

        .ra-item:last-child {
            border-bottom: none;
        }

        .ra-status {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .ra-status.approved {
            background: rgba(40, 167, 69, 0.2);
            color: var(--success);
        }

        .ra-status.pending {
            background: rgba(255, 193, 7, 0.2);
            color: var(--warning);
        }

        .approve-button {
            background: var(--success);
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            color: white;
            font-size: 0.8rem;
            cursor: pointer;
        }

        /* Main Application */
        .main-header {
            background: var(--dark-header);
            color: white;
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 20px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .user-ra {
            background: rgba(33, 150, 243, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
        }

        .logout-button {
            background: var(--error);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            color: white;
            cursor: pointer;
            font-weight: 600;
        }

        .progress-info {
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .progress-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .progress-bar {
            width: 100px;
            height: 6px;
            background: rgba(255,255,255,0.2);
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            transition: width 0.5s ease;
        }

        .level-badge {
            background: var(--accent);
            color: var(--dark-text);
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 300px 1fr 280px;
            gap: 2rem;
            padding: 2rem;
            min-height: calc(100vh - 80px);
        }

        /* Curriculum Sidebar */
        .curriculum-sidebar {
            background: var(--white);
            border-radius: 16px;
            padding: 1.5rem;
            height: fit-content;
            box-shadow: 0 4px 20px var(--shadow-light);
            border: 1px solid rgba(33, 150, 243, 0.1);
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .sidebar-header {
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .module-section {
            margin-bottom: 2rem;
        }

        .module-title {
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 1rem;
            padding: 0.5rem;
            background: var(--light-bg);
            border-radius: 8px;
            font-size: 0.9rem;
        }

        .lesson-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
        }

        .lesson-item:hover {
            background: rgba(33, 150, 243, 0.05);
            border-color: var(--primary);
            transform: translateX(2px);
        }

        .lesson-item.active {
            background: var(--primary);
            color: white;
            box-shadow: 0 4px 12px var(--shadow-medium);
        }

        .lesson-item.completed {
            background: rgba(40, 167, 69, 0.1);
            border-color: var(--success);
        }

        .lesson-item.locked {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .lesson-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .lesson-info {
            flex: 1;
            min-width: 0;
        }

        .lesson-title {
            font-size: 0.85rem;
            font-weight: 500;
            line-height: 1.3;
            margin-bottom: 0.2rem;
        }

        .lesson-duration {
            font-size: 0.7rem;
            opacity: 0.7;
        }

        .lesson-status {
            flex-shrink: 0;
            font-size: 1rem;
        }

        /* Content Area */
        .content-area {
            background: var(--white);
            border-radius: 16px;
            box-shadow: 0 4px 20px var(--shadow-light);
            border: 1px solid rgba(33, 150, 243, 0.1);
            overflow: hidden;
            max-height: calc(100vh - 140px);
            overflow-y: auto;
        }

        .content-header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .content-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .content-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .content-body {
            padding: 2rem;
        }

        /* Code Mentor Section */
        .mentor-section {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(76, 175, 80, 0.1));
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            border: 1px solid var(--primary);
        }

        .mentor-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .mentor-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .mentor-info h3 {
            color: var(--primary);
            font-weight: 600;
            font-size: 1.3rem;
        }

        .mentor-info p {
            font-size: 0.9rem;
            color: var(--secondary);
        }

        .audio-player {
            background: rgba(255,255,255,0.8);
            border-radius: 8px;
            padding: 1rem;
            margin-top: 1rem;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .audio-btn {
            background: var(--primary);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            transition: all 0.3s ease;
            font-size: 1.1rem;
        }

        .audio-btn:hover {
            background: var(--secondary);
            transform: scale(1.1);
        }

        .audio-timeline {
            flex: 1;
            height: 6px;
            background: rgba(33, 150, 243, 0.2);
            border-radius: 3px;
            cursor: pointer;
            overflow: hidden;
        }

        .speaking-indicator {
            display: none;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary);
            font-weight: 600;
        }

        .speaking-indicator.active {
            display: flex;
        }

        .wave {
            width: 4px;
            height: 20px;
            background: var(--primary);
            border-radius: 2px;
            animation: wave 1s infinite ease-in-out;
        }

        .wave:nth-child(2) { animation-delay: 0.1s; }
        .wave:nth-child(3) { animation-delay: 0.2s; }
        .wave:nth-child(4) { animation-delay: 0.3s; }

        @keyframes wave {
            0%, 40%, 100% { transform: scaleY(0.4); }
            20% { transform: scaleY(1); }
        }

        /* Content Sections */
        .content-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .section-title:hover {
            color: var(--secondary);
        }

        .concept-card {
            background: var(--light-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .concept-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow-light);
        }

        .concept-title {
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .concept-explanation {
            line-height: 1.7;
            margin-bottom: 1rem;
        }

        .concept-example {
            background: rgba(76, 175, 80, 0.1);
            padding: 1rem;
            border-radius: 8px;
            border-left: 3px solid var(--secondary);
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        /* Code Simulator */
        .interactive-simulator {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.05), rgba(76, 175, 80, 0.05));
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
            border: 2px solid var(--primary);
        }

        .simulator-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .simulator-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .simulator-content {
            min-height: 300px;
            background: var(--white);
            border-radius: 8px;
            padding: 1.5rem;
            border: 1px solid rgba(33, 150, 243, 0.2);
        }

        .sim-button {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 0.5rem;
        }

        .sim-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px var(--shadow-medium);
        }

        /* Portfolio Section */
        .portfolio-section {
            background: linear-gradient(135deg, rgba(33, 150, 243, 0.1), rgba(76, 175, 80, 0.1));
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            border: 2px solid var(--primary);
        }

        .git-folder {
            background: var(--white);
            border: 2px solid var(--secondary);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            font-family: 'Courier New', monospace;
        }

        .git-folder-title {
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        /* Materials and Activities Sections */
        .materials-section, .activities-section, .quiz-section {
            background: rgba(255, 152, 0, 0.1);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            border: 1px solid var(--accent);
        }

        .activities-section {
            background: rgba(40, 167, 69, 0.1);
            border-color: var(--success);
        }

        .material-item, .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            background: var(--white);
            border-radius: 8px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .material-item:hover, .activity-item:hover {
            transform: translateX(4px);
            box-shadow: 0 2px 8px var(--shadow-light);
        }

        .activity-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--success);
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .activity-checkbox.checked {
            background: var(--success);
            color: white;
        }

        /* Quiz Section */
        .quiz-question {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1.5rem;
            color: var(--dark-text);
        }

        .quiz-option {
            background: var(--white);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }

        .quiz-option:hover {
            border-color: var(--accent);
            transform: translateX(4px);
        }

        .quiz-option.selected {
            border-color: var(--accent);
            background: rgba(255, 152, 0, 0.2);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(40, 167, 69, 0.2);
        }

        .quiz-option.incorrect {
            border-color: var(--error);
            background: rgba(220, 53, 69, 0.2);
        }

        /* Progress Sidebar */
        .progress-sidebar {
            background: var(--white);
            border-radius: 16px;
            padding: 1.5rem;
            height: fit-content;
            box-shadow: 0 4px 20px var(--shadow-light);
            border: 1px solid rgba(33, 150, 243, 0.1);
        }

        .progress-header {
            font-family: 'Poppins', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--light-bg);
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-top: 0.3rem;
        }

        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .achievement-badge {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid;
        }

        .achievement-badge.unlocked {
            background: linear-gradient(45deg, var(--accent), #FF5722);
            border-color: var(--accent);
            color: white;
        }

        .achievement-badge.locked {
            background: #ddd;
            border-color: #bbb;
            color: #888;
        }

        .achievement-badge:hover.unlocked {
            transform: scale(1.1);
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 2px solid var(--light-bg);
        }

        .nav-button {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            border: none;
            padding: 1rem 2rem;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px var(--shadow-light);
        }

        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px var(--shadow-medium);
        }

        .nav-button:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 1rem 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateX(400px);
            transition: all 0.3s ease;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .main-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            .curriculum-sidebar,
            .progress-sidebar {
                order: 2;
                max-height: none;
            }
            
            .content-area {
                order: 1;
                max-height: none;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }
            
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .user-info {
                flex-direction: column;
                gap: 1rem;
            }
            
            .content-title {
                font-size: 1.5rem;
            }
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-card">
            <h1 class="login-title">üéÆ GameCreators Academy</h1>
            <p class="login-subtitle">M√≥dulo 1: Fundamentos de Programa√ß√£o + Git</p>
            
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label" for="raInput">Registro Acad√™mico (RA)</label>
                    <input type="text" id="raInput" class="form-input" placeholder="Digite seu RA" required>
                </div>
                
                <button type="submit" class="login-button">
                    üöÄ Acessar Curso
                </button>
                
                <button type="button" class="admin-button" onclick="showAdminPanel()">
                    ‚öôÔ∏è Painel Admin
                </button>
            </form>
            
            <div id="errorMessage" class="error-message"></div>
            <div id="successMessage" class="success-message"></div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="login-screen hidden">
        <div class="admin-panel">
            <h2 class="admin-title">üîê Painel Administrativo</h2>
            
            <div class="form-group">
                <label class="form-label" for="adminPassword">Senha de Admin</label>
                <input type="password" id="adminPassword" class="form-input" placeholder="Digite a senha">
            </div>
            
            <button onclick="verifyAdminPassword()" class="login-button">
                üîì Acessar Painel
            </button>
            
            <div id="adminContent" class="hidden">
                <h3 style="color: var(--primary); margin: 1.5rem 0 1rem 0;">üìã Gerenciar RAs</h3>
                
                <div class="form-group">
                    <label class="form-label" for="newRA">Novo RA para Aprovar</label>
                    <input type="text" id="newRA" class="form-input" placeholder="Digite o RA">
                    <button onclick="approveRA()" class="sim-button" style="margin-top: 0.5rem;">
                        ‚úÖ Aprovar RA
                    </button>
                </div>
                
                <div class="ra-list" id="raList">
                    <p style="text-align: center; color: #666;">Carregando lista de RAs...</p>
                </div>

                <div id="progressStatsSection" class="hidden" style="margin-top: 2rem;">
                    <h4 style="color: var(--primary); margin: 1.5rem 0 1rem 0;">üìä Estat√≠sticas de Progresso</h4>
                    <button onclick="showProgressStats()" class="sim-button">Ver Estat√≠sticas</button>
                    <div id="progressStats" style="margin-top: 1rem; display: none;"></div>
                </div>
            </div>
            
            <button onclick="closeAdminPanel()" class="admin-button" style="margin-top: 1rem;">
                ‚Üê Voltar
            </button>
        </div>
    </div>

    <!-- Main Application -->
    <div id="mainApp" class="hidden">
        <header class="main-header">
            <div class="header-content">
                <div class="logo">üéÆ GameCreators Academy - M√≥dulo 1</div>
                <div class="user-info">
                    <div class="progress-info">
                        <div class="progress-item">
                            <span>XP:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="headerXpBar" style="width: 0%"></div>
                            </div>
                            <span id="headerXpText">0/1000</span>
                        </div>
                        <div class="progress-item">
                            <span>Progresso:</span>
                            <div class="progress-bar">
                                <div class="progress-fill" id="headerProgressBar" style="width: 0%"></div>
                            </div>
                            <span id="headerProgressText">0/8</span>
                        </div>
                        <div class="level-badge" id="headerLevel">LEVEL 1</div>
                    </div>
                    <div class="user-ra" id="userRA">RA: 000000</div>
                    <button class="logout-button" onclick="logout()">üö™ Sair</button>
                </div>
            </div>
        </header>

        <div class="main-container">
            <!-- Sidebar Esquerda - Curr√≠culo -->
            <aside class="curriculum-sidebar">
                <h2 class="sidebar-header">üìö Fundamentos de Programa√ß√£o + Git</h2>
                
                <div class="module-section">
                    <div class="module-title">üêç Python + Git Basics</div>
                    <div id="module1Lessons">
                        <!-- Lessons will be populated by JavaScript -->
                    </div>
                </div>
            </aside>

            <!-- √Årea Principal de Conte√∫do -->
            <main class="content-area">
                <div class="content-header">
                    <h1 class="content-title" id="lessonTitle">Bem-vindo ao GameCreators Academy</h1>
                    <p class="content-subtitle" id="lessonSubtitle">Sua jornada em programa√ß√£o Python + Git para Games come√ßa aqui!</p>
                </div>

                <div class="content-body">
                    <!-- Code Mentor -->
                    <div class="mentor-section">
                        <div class="mentor-header">
                            <div class="mentor-avatar">ü§ñ</div>
                            <div class="mentor-info">
                                <h3>Estela - Tutora IA</h3>
                                <p>Assistente Inteligente para Programa√ß√£o Python + Git</p>
                            </div>
                        </div>
                        
                        <div class="audio-player">
                            <div class="audio-controls">
                                <button class="audio-btn" id="playBtn" title="Reproduzir/Pausar">‚ñ∂Ô∏è</button>
                                <button class="audio-btn" id="stopBtn" title="Parar">‚èπÔ∏è</button>
                                <div class="audio-timeline" id="audioTimeline">
                                    <div class="progress-fill" id="audioProgress" style="width: 0%"></div>
                                </div>
                                <button class="audio-btn" id="speedBtn" title="Velocidade">1x</button>
                                <button class="audio-btn" id="readAllBtn" title="Ler toda a li√ß√£o">üìñ</button>
                            </div>
                            
                            <div class="speaking-indicator" id="speakingIndicator">
                                <span>Estela est√° explicando...</span>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                                <div class="wave"></div>
                            </div>
                            
                            <p style="margin-top: 1rem; font-style: italic;" id="mentorMessage">
                                Ol√°! Eu sou a Estela, sua tutora IA em Python. Clique em qualquer se√ß√£o ou no bot√£o "Ler toda a li√ß√£o" para eu explicar o conte√∫do!
                            </p>
                        </div>
                    </div>

                    <!-- Objetivo da Li√ß√£o -->
                    <div class="content-section">
                        <h2 class="section-title" onclick="speakObjective()">üéØ Objetivo da Li√ß√£o</h2>
                        <div class="concept-card" onclick="speakObjective()">
                            <div class="concept-explanation" id="lessonObjective">
                                Carregando objetivos da li√ß√£o...
                            </div>
                        </div>
                    </div>

                    <!-- Conceitos Fundamentais -->
                    <div class="content-section" id="conceptsSection">
                        <h2 class="section-title" onclick="speakSection('concepts')">üìñ Conceitos Fundamentais</h2>
                        <div id="conceptsContent">
                            <!-- Concepts will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Simulador de C√≥digo -->
                    <div class="interactive-simulator" id="simulator">
                        <div class="simulator-header">
                            <h3 class="simulator-title" id="simTitle">üíª Simulador de C√≥digo</h3>
                            <p id="simDescription">Pratique programa√ß√£o Python de forma interativa</p>
                        </div>
                        <div class="simulator-content" id="simContent">
                            <p>Carregando simulador...</p>
                        </div>
                    </div>

                    <!-- Portfolio Section -->
                    <div class="portfolio-section" id="portfolioSection">
                        <h2 class="section-title">üíº Construindo seu Portfolio</h2>
                        <div id="portfolioContent">
                            <!-- Portfolio items will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Materiais Complementares -->
                    <div class="materials-section">
                        <h2 class="section-title">üìÑ Materiais Complementares</h2>
                        <div id="materialsList">
                            <!-- Materials will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Atividades Pr√°ticas -->
                    <div class="activities-section">
                        <h2 class="section-title">‚úÖ Atividades Pr√°ticas</h2>
                        <div id="activitiesList">
                            <!-- Activities will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Quiz -->
                    <div class="quiz-section" id="quizSection" style="display: none;">
                        <h2 class="section-title">üß† Quiz de Conhecimento</h2>
                        <div class="quiz-question" id="quizQuestion"></div>
                        <div id="quizOptions"></div>
                        <button class="sim-button" id="submitQuiz" style="margin-top: 1rem;">Confirmar Resposta</button>
                    </div>

                    <!-- Navega√ß√£o entre Li√ß√µes -->
                    <div class="nav-buttons">
                        <button class="nav-button" id="prevLessonBtn" onclick="navigateLesson(-1)" style="display: none;">
                            ‚¨ÖÔ∏è Li√ß√£o Anterior
                        </button>
                        <div style="flex: 1;"></div>
                        <button class="nav-button" id="nextLessonBtn" onclick="navigateLesson(1)">
                            Pr√≥xima Li√ß√£o ‚û°Ô∏è
                        </button>
                    </div>
                </div>
            </main>

            <!-- Sidebar Direita - Progresso -->
            <aside class="progress-sidebar">
                <h2 class="progress-header">üìä Seu Progresso</h2>
                
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="totalXP">0</div>
                        <div class="stat-label">Total XP</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="completedLessons">0</div>
                        <div class="stat-label">Li√ß√µes</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="streakDays">0</div>
                        <div class="stat-label">Sequ√™ncia</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="portfolioItems">0</div>
                        <div class="stat-label">Portfolio</div>
                    </div>
                </div>

                <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1rem;">üèÜ Conquistas</h3>
                <div class="achievements-grid" id="achievementsGrid">
                    <!-- Achievements will be populated by JavaScript -->
                </div>

                <div style="margin-top: 2rem;">
                    <h3 style="color: var(--primary); margin-bottom: 1rem; font-size: 1rem;">üìà Progresso Semanal</h3>
                    <div style="background: var(--light-bg); padding: 1rem; border-radius: 8px; text-align: center;">
                        <div style="font-size: 1.2rem; font-weight: 600; color: var(--success);" id="weeklyProgress">1/8 li√ß√µes</div>
                        <div style="font-size: 0.8rem; opacity: 0.7;">M√≥dulo 1 - Python + Git</div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // 8 Li√ß√µes completas do M√≥dulo 1 - Fundamentos de Programa√ß√£o + Git
        const lessons = [
            {
                id: 1,
                title: "üéì Introdu√ß√£o √† L√≥gica + Primeiro Python",
                subtitle: "Descobrindo o Mundo da Programa√ß√£o",
                duration: "30 min",
                icon: "üêç",
                objective: "Compreender os fundamentos da l√≥gica de programa√ß√£o e executar seus primeiros comandos Python.",
                concepts: [
                    {
                        title: "O que √© Programa√ß√£o?",
                        explanation: "Programa√ß√£o √© a arte de dar instru√ß√µes precisas ao computador para resolver problemas. √â como escrever uma receita detalhada que o computador pode seguir.",
                        example: "print('Ol√°, mundo!') # Seu primeiro programa Python"
                    },
                    {
                        title: "L√≥gica de Programa√ß√£o",
                        explanation: "L√≥gica √© a sequ√™ncia de passos para resolver um problema. Todo programa segue: Entrada ‚Üí Processamento ‚Üí Sa√≠da.",
                        example: "nome = input('Digite seu nome: ')\nprint(f'Ol√°, {nome}!')\n# Entrada: nome do usu√°rio\n# Processamento: formata√ß√£o\n# Sa√≠da: sauda√ß√£o"
                    }
                ],
                materials: [
                    "üìñ Guia: Hist√≥ria do Python",
                    "üé• V√≠deo: Instalando Python e VSCode",
                    "üìä Cheat Sheet: Comandos Python B√°sicos",
                    "üîó Links: Recursos Online Python"
                ],
                portfolio: {
                    title: "projeto_base.py",
                    description: "Crie seu primeiro arquivo Python com print statements, coment√°rios e uma sauda√ß√£o personalizada.",
                    gitFolder: "Licao01_Projeto_Base"
                },
                activities: [
                    "Instalar Python 3.x no computador",
                    "Configurar VSCode com extens√£o Python",
                    "Criar arquivo projeto_base.py",
                    "Executar primeiro programa com print()"
                ],
                quiz: {
                    question: "Qual comando Python exibe texto na tela?",
                    options: ["show('texto')", "display('texto')", "print('texto')", "write('texto')"],
                    correct: 2
                },
                simulator: "python-basic"
            },
            {
                id: 2,
                title: "üì¶ Vari√°veis e Tipos de Dados + Git B√°sico",
                subtitle: "Armazenando Informa√ß√µes e Versionando C√≥digo",
                duration: "35 min",
                icon: "üíæ",
                objective: "Dominar vari√°veis Python, tipos de dados e inicializar controle de vers√£o com Git.",
                concepts: [
                    {
                        title: "Vari√°veis e Tipos",
                        explanation: "Vari√°veis s√£o 'caixas' que armazenam dados. Python tem tipos: int (n√∫meros), str (texto), float (decimais), bool (verdadeiro/falso).",
                        example: "nome = 'TechStore'  # string\npreco = 29.99       # float\nquantidade = 10     # int\ndisponivel = True   # boolean"
                    },
                    {
                        title: "Controle de Vers√£o com Git",
                        explanation: "Git rastreia mudan√ßas no c√≥digo. Permite voltar vers√µes anteriores, trabalhar em equipe e manter hist√≥rico completo.",
                        example: "git init\ngit add .\ngit commit -m 'Primeiro commit: vari√°veis de produtos'\n# Salva estado atual do projeto"
                    }
                ],
                materials: [
                    "üì• Git: Download e Instala√ß√£o",
                    "üéÆ Tutorial: Git Comandos Essenciais",
                    "üìã Cheat Sheet: Tipos de Dados Python",
                    "üé• V√≠deo: Git vs GitHub Explicado"
                ],
                portfolio: {
                    title: "git_primeiro_commit.md",
                    description: "Documente seu aprendizado sobre Git e crie vari√°veis para produtos da TechStore.",
                    gitFolder: "Licao02_Variaveis_Git"
                },
                activities: [
                    "Instalar Git e configurar usu√°rio",
                    "Inicializar reposit√≥rio Git no projeto",
                    "Criar vari√°veis para diferentes tipos de produtos",
                    "Fazer primeiro commit com message descritiva"
                ],
                quiz: {
                    question: "Qual comando Git salva mudan√ßas no reposit√≥rio?",
                    options: ["git save", "git commit", "git push", "git store"],
                    correct: 1
                },
                simulator: "variables-git"
            },
            {
                id: 3,
                title: "üéõÔ∏è Condi√ß√µes (if/elif/else) + GitHub",
                subtitle: "Decis√µes Inteligentes no C√≥digo",
                duration: "40 min",
                icon: "üîÄ",
                objective: "Implementar l√≥gica condicional para sistemas de desconto e publicar c√≥digo no GitHub.",
                concepts: [
                    {
                        title: "Estruturas Condicionais",
                        explanation: "if/elif/else permite ao programa tomar decis√µes. Como um fluxograma: 'se isso, ent√£o aquilo, sen√£o isso outro'.",
                        example: "preco = 100\nif preco >= 100:\n    desconto = 0.10\nelif preco >= 50:\n    desconto = 0.05\nelse:\n    desconto = 0\nprint(f'Desconto: {desconto*100}%')"
                    },
                    {
                        title: "GitHub - Reposit√≥rio Remoto",
                        explanation: "GitHub hospeda reposit√≥rios Git na nuvem. Permite backup, colabora√ß√£o e portfolio de projetos p√∫blicos.",
                        example: "git remote add origin https://github.com/usuario/repo.git\ngit push -u origin main\n# Envia c√≥digo local para GitHub"
                    }
                ],
                materials: [
                    "üåê Tutorial: Criando Conta GitHub",
                    "üîó Guia: Conectando Git ao GitHub",
                    "üí° Exemplos: L√≥gica Condicional Pr√°tica",
                    "üéØ Exerc√≠cio: Sistema de Descontos"
                ],
                portfolio: {
                    title: "sistema_descontos.py",
                    description: "Implemente sistema de descontos baseado no valor da compra, quantidade de itens e categoria do cliente.",
                    gitFolder: "Licao03_Sistema_Descontos"
                },
                activities: [
                    "Criar conta no GitHub",
                    "Conectar reposit√≥rio local ao GitHub",
                    "Desenvolver sistema de descontos progressivos",
                    "Testar diferentes cen√°rios de desconto"
                ],
                quiz: {
                    question: "Qual estrutura testa m√∫ltiplas condi√ß√µes?",
                    options: ["if apenas", "if/else", "if/elif/else", "switch/case"],
                    correct: 2
                },
                simulator: "conditions-logic"
            },
            {
                id: 4,
                title: "üîÑ Loops (for/while) + Testes B√°sicos",
                subtitle: "Automatiza√ß√£o e Qualidade de C√≥digo",
                duration: "45 min",
                icon: "‚û∞",
                objective: "Dominar estruturas de repeti√ß√£o e implementar testes b√°sicos para garantir qualidade do c√≥digo.",
                concepts: [
                    {
                        title: "Loops for e while",
                        explanation: "Loops executam c√≥digo repetidamente. 'for' para quantidade definida, 'while' enquanto condi√ß√£o for verdadeira.",
                        example: "produtos = ['Notebook', 'Mouse', 'Teclado']\nfor produto in produtos:\n    print(f'Produto: {produto}')\n\ncontador = 1\nwhile contador <= 5:\n    print(f'Item {contador}')\n    contador += 1"
                    },
                    {
                        title: "Testes B√°sicos",
                        explanation: "Testes verificam se o c√≥digo funciona corretamente. Previnem bugs e facilitam mudan√ßas futuras no c√≥digo.",
                        example: "def calcular_desconto(preco, percentual):\n    return preco * (percentual / 100)\n\n# Teste simples\nassert calcular_desconto(100, 10) == 10\nprint('Teste passou!')"
                    }
                ],
                materials: [
                    "üîÑ Exemplos: Loops Pr√°ticos",
                    "üß™ Introdu√ß√£o: Testes Unit√°rios",
                    "üìê Template: Fun√ß√£o de Teste",
                    "‚ö° Performance: Loops Eficientes"
                ],
                portfolio: {
                    title: "lista_produtos.py",
                    description: "Crie lista de produtos, implemente loops para processamento e testes para validar funcionamento.",
                    gitFolder: "Licao04_Lista_Produtos"
                },
                activities: [
                    "Criar lista com 10+ produtos da TechStore",
                    "Implementar loop para calcular total de vendas",
                    "Escrever testes b√°sicos para fun√ß√µes",
                    "Executar testes e corrigir eventuais erros"
                ],
                quiz: {
                    question: "Qual loop √© melhor para percorrer uma lista?",
                    options: ["while apenas", "for in lista", "for range", "Tanto faz"],
                    correct: 1
                },
                simulator: "loops-testing"
            },
            {
                id: 5,
                title: "‚öôÔ∏è Fun√ß√µes + Organiza√ß√£o de C√≥digo",
                subtitle: "Modulariza√ß√£o e Reutiliza√ß√£o",
                duration: "40 min",
                icon: "üîß",
                objective: "Criar fun√ß√µes reutiliz√°veis para c√°lculos e organizar c√≥digo de forma profissional.",
                concepts: [
                    {
                        title: "Definindo Fun√ß√µes",
                        explanation: "Fun√ß√µes s√£o blocos de c√≥digo reutiliz√°veis. Recebem par√¢metros, processam e retornam resultados.",
                        example: "def calcular_preco_final(preco_base, desconto, imposto):\n    preco_com_desconto = preco_base * (1 - desconto/100)\n    preco_final = preco_com_desconto * (1 + imposto/100)\n    return preco_final\n\nresultado = calcular_preco_final(100, 10, 5)"
                    },
                    {
                        title: "Organiza√ß√£o de C√≥digo",
                        explanation: "C√≥digo bem organizado usa fun√ß√µes pequenas, nomes claros e coment√°rios. Facilita manuten√ß√£o e trabalho em equipe.",
                        example: "# Fun√ß√µes de c√°lculo\ndef calcular_desconto(preco, percentual):\n    '''Calcula desconto baseado no percentual'''\n    return preco * (percentual / 100)\n\ndef aplicar_imposto(valor, taxa):\n    '''Aplica taxa de imposto ao valor'''\n    return valor * (1 + taxa / 100)"
                    }
                ],
                materials: [
                    "üéØ Template: Estrutura de Fun√ß√µes",
                    "üìù Guia: Documenta√ß√£o de C√≥digo",
                    "üîß Boas Pr√°ticas: Clean Code Python",
                    "üìä Exemplos: Fun√ß√µes Matem√°ticas"
                ],
                portfolio: {
                    title: "funcoes_calculos.py",
                    description: "Desenvolva biblioteca de fun√ß√µes para c√°lculos da TechStore: pre√ßos, descontos, impostos e frete.",
                    gitFolder: "Licao05_Funcoes_Calculos"
                },
                activities: [
                    "Criar fun√ß√£o para calcular desconto progressivo",
                    "Implementar fun√ß√£o de c√°lculo de frete",
                    "Desenvolver fun√ß√£o de pre√ßo final (tudo junto)",
                    "Documentar todas as fun√ß√µes com docstrings"
                ],
                quiz: {
                    question: "Qual palavra-chave define uma fun√ß√£o em Python?",
                    options: ["function", "def", "func", "define"],
                    correct: 1
                },
                simulator: "functions-modular"
            },
            {
                id: 6,
                title: "üìö Estruturas de Dados + Code Review",
                subtitle: "Organizando Informa√ß√µes Complexas",
                duration: "50 min",
                icon: "üóÉÔ∏è",
                objective: "Dominar dicion√°rios e listas para criar cat√°logo de produtos e praticar revis√£o de c√≥digo.",
                concepts: [
                    {
                        title: "Dicion√°rios Python",
                        explanation: "Dicion√°rios armazenam dados em pares chave-valor. Ideais para representar objetos do mundo real como produtos.",
                        example: "produto = {\n    'nome': 'Notebook Dell',\n    'preco': 2500.00,\n    'categoria': 'Inform√°tica',\n    'estoque': 15,\n    'ativo': True\n}\nprint(produto['nome'])  # Acessa pelo nome da chave"
                    },
                    {
                        title: "Code Review Process",
                        explanation: "Revis√£o de c√≥digo melhora qualidade, encontra bugs e compartilha conhecimento. Processo essencial em equipes.",
                        example: "# Checklist de Code Review:\n# ‚úì L√≥gica est√° correta?\n# ‚úì Nomes de vari√°veis s√£o claros?\n# ‚úì C√≥digo est√° bem comentado?\n# ‚úì Testes est√£o passando?\n# ‚úì Performance est√° adequada?"
                    }
                ],
                materials: [
                    "üìñ Guia Completo: Dicion√°rios Python",
                    "üîç Checklist: Code Review",
                    "üí° Exemplos: Estruturas Aninhadas",
                    "üõ†Ô∏è Ferramentas: Linting e Formatting"
                ],
                portfolio: {
                    title: "catalogo_produtos.py",
                    description: "Construa cat√°logo completo da TechStore usando dicion√°rios com produtos, categorias e funcionalidades de busca.",
                    gitFolder: "Licao06_Catalogo_Produtos"
                },
                activities: [
                    "Criar dicion√°rio com 20+ produtos diversos",
                    "Implementar fun√ß√£o de busca por categoria",
                    "Desenvolver fun√ß√£o de filtro por pre√ßo",
                    "Fazer review do c√≥digo de um colega"
                ],
                quiz: {
                    question: "Como acessar o valor 'Dell' do dict {'marca': 'Dell', 'modelo': 'XPS'}?",
                    options: ["dict[marca]", "dict['marca']", "dict.marca", "dict(marca)"],
                    correct: 1
                },
                simulator: "data-structures"
            },
            {
                id: 7,
                title: "üìÅ Arquivos + Documenta√ß√£o",
                subtitle: "Persist√™ncia de Dados e Documenta√ß√£o Profissional",
                duration: "45 min",
                icon: "üíæ",
                objective: "Implementar sistema de persist√™ncia com arquivos e criar documenta√ß√£o t√©cnica completa.",
                concepts: [
                    {
                        title: "Manipula√ß√£o de Arquivos",
                        explanation: "Python pode ler e escrever arquivos. Permite salvar dados permanentemente e carregar informa√ß√µes entre execu√ß√µes.",
                        example: "# Salvando dados\nwith open('produtos.txt', 'w') as arquivo:\n    arquivo.write('Notebook,2500.00\\n')\n    arquivo.write('Mouse,45.00\\n')\n\n# Lendo dados\nwith open('produtos.txt', 'r') as arquivo:\n    conteudo = arquivo.read()\n    print(conteudo)"
                    },
                    {
                        title: "Documenta√ß√£o T√©cnica",
                        explanation: "README, coment√°rios e docstrings explicam como usar o c√≥digo. Essencial para projetos profissionais.",
                        example: "# README.md exemplo:\n## TechStore Calculator\n\n### Como usar:\n```python\nfrom calculadora import calcular_preco\npreco = calcular_preco(100, desconto=10)\n```\n\n### Funcionalidades:\n- C√°lculo de pre√ßos\n- Sistema de descontos\n- Gest√£o de estoque"
                    }
                ],
                materials: [
                    "üìÑ Template: README.md Profissional",
                    "üíæ Guia: Trabalhando com Arquivos",
                    "üìù Padr√µes: Documenta√ß√£o Python",
                    "üîß Ferramentas: Markdown e Git"
                ],
                portfolio: {
                    title: "gerenciador_dados.py",
                    description: "Desenvolva sistema completo para salvar/carregar dados de produtos em arquivos com documenta√ß√£o detalhada.",
                    gitFolder: "Licao07_Gerenciador_Dados"
                },
                activities: [
                    "Implementar fun√ß√£o para salvar cat√°logo em arquivo",
                    "Criar fun√ß√£o para carregar dados de arquivo",
                    "Escrever README.md completo do projeto",
                    "Documentar todas as fun√ß√µes com docstrings"
                ],
                quiz: {
                    question: "Qual modo abre arquivo para escrita?",
                    options: ["open('file', 'r')", "open('file', 'w')", "open('file', 'a')", "open('file', 'x')"],
                    correct: 1
                },
                simulator: "files-docs"
            },
            {
                id: 8,
                title: "üèÜ Projeto Final: Calculadora TechStore v1.0",
                subtitle: "Integrando Todo Conhecimento Adquirido",
                duration: "60 min",
                icon: "üöÄ",
                objective: "Desenvolver calculadora completa integrando todos os conceitos: fun√ß√µes, estruturas de dados, arquivos e Git.",
                concepts: [
                    {
                        title: "Integra√ß√£o de Sistemas",
                        explanation: "Projeto final combina: vari√°veis, condi√ß√µes, loops, fun√ß√µes, dicion√°rios, arquivos em um sistema coeso e funcional.",
                        example: "# Estrutura do projeto final:\ntechstore_v1/\n‚îú‚îÄ‚îÄ calculadora.py      # L√≥gica principal\n‚îú‚îÄ‚îÄ produtos.py         # Gest√£o de produtos  \n‚îú‚îÄ‚îÄ arquivos.py         # Persist√™ncia\n‚îú‚îÄ‚îÄ testes.py          # Testes unit√°rios\n‚îú‚îÄ‚îÄ dados/             # Arquivos de dados\n‚îî‚îÄ‚îÄ README.md          # Documenta√ß√£o"
                    },
                    {
                        title: "Terminal Interface",
                        explanation: "Interface via terminal com menu interativo. Usu√°rio navega por op√ß√µes usando input() e loops.",
                        example: "while True:\n    print('=== TechStore Calculator ===')\n    print('1. Adicionar produto')\n    print('2. Calcular pre√ßo')\n    print('3. Ver cat√°logo')\n    print('0. Sair')\n    \n    opcao = input('Escolha: ')\n    if opcao == '0':\n        break"
                    }
                ],
                materials: [
                    "üéØ Especifica√ß√£o Completa do Projeto",
                    "üìã Checklist: Funcionalidades Obrigat√≥rias",
                    "üß™ Template: Testes Automatizados",
                    "üì¶ Guia: Estrutura de Projeto Python"
                ],
                portfolio: {
                    title: "techstore_v1/",
                    description: "Calculadora completa da TechStore com interface terminal, persist√™ncia de dados e sistema completo de gest√£o de produtos.",
                    gitFolder: "Licao08_TechStore_v1_Final"
                },
                activities: [
                    "Planejar arquitetura do sistema completo",
                    "Implementar interface de menu interativo",
                    "Integrar todas as funcionalidades desenvolvidas",
                    "Criar testes automatizados para valida√ß√£o",
                    "Finalizar documenta√ß√£o e fazer deploy no GitHub"
                ],
                quiz: {
                    question: "Qual √© a principal vantagem de um projeto bem estruturado?",
                    options: ["Mais linhas de c√≥digo", "Facilita manuten√ß√£o e expans√£o", "Roda mais r√°pido", "Ocupa menos espa√ßo"],
                    correct: 1
                },
                simulator: "final-project"
            }
        ];

        // Sistema de autentica√ß√£o e dados
        class DataManager {
            constructor() {
                // Simula Google Sheets - em produ√ß√£o conectaria √† API real
                this.approvedRAs = ['123456', '234567', '345678']; // RAs aprovados
                this.adminPassword = 'admin123'; // Senha do admin
                this.currentUser = null;
            }

            // Simula verifica√ß√£o no Google Sheets
            async checkRA(ra) {
                // Em produ√ß√£o: fetch para Google Sheets API
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve(this.approvedRAs.includes(ra));
                    }, 1000);
                });
            }

            async approveRA(ra) {
                // Em produ√ß√£o: update Google Sheets
                return new Promise((resolve) => {
                    setTimeout(() => {
                        if (!this.approvedRAs.includes(ra)) {
                            this.approvedRAs.push(ra);
                            resolve(true);
                        }
                        resolve(false);
                    }, 500);
                });
            }

            getApprovedRAs() {
                return this.approvedRAs.map(ra => ({
                    ra: ra,
                    status: 'approved',
                    date: new Date().toLocaleDateString()
                }));
            }

            verifyAdmin(password) {
                return password === this.adminPassword;
            }
        }

        // ===== FUN√á√ïES DE PERSIST√äNCIA DE PROGRESSO =====
        
        // Fun√ß√µes de persist√™ncia de dados
        function saveProgress(ra, gameState) {
            try {
                const key = `gameProgress_${ra}`;
                const data = {
                    ...gameState,
                    lastAccess: new Date().toISOString(),
                    version: '1.0' // Para futuras migra√ß√µes de dados
                };
                localStorage.setItem(key, JSON.stringify(data));
                console.log('Progresso salvo para RA:', ra);
            } catch (error) {
                console.error('Erro ao salvar progresso:', error);
                showNotification('Erro ao salvar progresso');
            }
        }

        function loadProgress(ra) {
            try {
                const key = `gameProgress_${ra}`;
                const savedData = localStorage.getItem(key);
                
                if (savedData) {
                    const data = JSON.parse(savedData);
                    // Remove campos tempor√°rios que n√£o devem persistir
                    delete data.selectedQuizOption;
                    delete data.version;
                    delete data.lastAccess;
                    
                    console.log('Progresso carregado para RA:', ra);
                    return data;
                }
                
                console.log('Nenhum progresso salvo encontrado para RA:', ra);
                return null;
            } catch (error) {
                console.error('Erro ao carregar progresso:', error);
                showNotification('Erro ao carregar progresso salvo');
                return null;
            }
        }

        function clearProgress(ra) {
            try {
                const key = `gameProgress_${ra}`;
                localStorage.removeItem(key);
                console.log('Progresso limpo para RA:', ra);
            } catch (error) {
                console.error('Erro ao limpar progresso:', error);
            }
        }

        // Fun√ß√£o auxiliar para salvar o progresso atual
        function saveCurrentProgress() {
            if (dataManager.currentUser) {
                saveProgress(dataManager.currentUser, gameState);
            }
        }

        // Fun√ß√£o para obter estat√≠sticas detalhadas (para admin)
        function getDetailedStats() {
            const allRAs = dataManager.getApprovedRAs();
            const stats = {
                totalStudents: allRAs.length,
                activeStudents: 0,
                completionRates: [],
                avgXP: 0,
                totalXP: 0
            };
            
            allRAs.forEach(raItem => {
                const progress = loadProgress(raItem.ra);
                if (progress) {
                    stats.activeStudents++;
                    stats.completionRates.push(progress.completedLessons.length);
                    stats.totalXP += progress.totalXP;
                }
            });
            
            if (stats.activeStudents > 0) {
                stats.avgXP = Math.round(stats.totalXP / stats.activeStudents);
                stats.avgCompletion = Math.round(
                    stats.completionRates.reduce((a, b) => a + b, 0) / stats.activeStudents
                );
            }
            
            return stats;
        }

        // ===== FIM DAS FUN√á√ïES DE PERSIST√äNCIA =====

        // Game state
        let gameState = {
            currentLesson: 1,
            completedLessons: [],
            unlockedLessons: [1],
            totalXP: 0,
            level: 1,
            achievements: [],
            streak: 1,
            portfolioItems: 0,
            activities: {},
            quizzes: {},
            selectedQuizOption: null
        };

        const dataManager = new DataManager();

        // Initialize the application
        function init() {
            showLoginScreen();
        }

        // Authentication functions
        function showLoginScreen() {
            document.getElementById('loginScreen').classList.remove('hidden');
            document.getElementById('mainApp').classList.add('hidden');
            document.getElementById('adminPanel').classList.add('hidden');
        }

        // MODIFICADO: Fun√ß√£o handleLogin com carregamento de progresso
        async function handleLogin(event) {
            event.preventDefault();
            const ra = document.getElementById('raInput').value.trim();
            
            if (!ra) {
                showError('Por favor, digite seu RA');
                return;
            }

            showLoading('Verificando RA...');
            
            try {
                const isApproved = await dataManager.checkRA(ra);
                
                if (isApproved) {
                    dataManager.currentUser = ra;
                    document.getElementById('userRA').textContent = `RA: ${ra}`;
                    
                    // NOVO: Carregar progresso salvo
                    const savedProgress = loadProgress(ra);
                    if (savedProgress) {
                        gameState = { ...gameState, ...savedProgress };
                        showNotification('üéâ Progresso anterior carregado! Bem-vindo de volta!');
                    }
                    
                    loadMainApp();
                    hideMessages();
                } else {
                    showError('RA n√£o autorizado. Entre em contato com o coordenador.');
                }
            } catch (error) {
                showError('Erro ao verificar RA. Tente novamente.');
            }
        }

        function showError(message) {
            const errorDiv = document.getElementById('errorMessage');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            document.getElementById('successMessage').style.display = 'none';
        }

        function showSuccess(message) {
            const successDiv = document.getElementById('successMessage');
            successDiv.textContent = message;
            successDiv.style.display = 'block';
            document.getElementById('errorMessage').style.display = 'none';
        }

        function showLoading(message) {
            showSuccess(message);
        }

        function hideMessages() {
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('successMessage').style.display = 'none';
        }

        // Admin functions
        function showAdminPanel() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('adminPanel').classList.remove('hidden');
            document.getElementById('adminPassword').value = '';
            document.getElementById('adminContent').classList.add('hidden');
        }

        function verifyAdminPassword() {
            const password = document.getElementById('adminPassword').value;
            
            if (dataManager.verifyAdmin(password)) {
                document.getElementById('adminContent').classList.remove('hidden');
                document.getElementById('progressStatsSection').classList.remove('hidden');
                loadRAList();
                showSuccess('Acesso liberado!');
            } else {
                showError('Senha incorreta!');
            }
        }

        function loadRAList() {
            const raList = document.getElementById('raList');
            const approvedRAs = dataManager.getApprovedRAs();
            
            raList.innerHTML = '';
            
            if (approvedRAs.length === 0) {
                raList.innerHTML = '<p style="text-align: center; color: #666;">Nenhum RA aprovado ainda.</p>';
                return;
            }

            approvedRAs.forEach(item => {
                const raItem = document.createElement('div');
                raItem.className = 'ra-item';
                raItem.innerHTML = `
                    <span><strong>RA:</strong> ${item.ra}</span>
                    <span style="color: #666; font-size: 0.8rem;">${item.date}</span>
                    <span class="ra-status approved">Aprovado</span>
                `;
                raList.appendChild(raItem);
            });
        }

        async function approveRA() {
            const newRA = document.getElementById('newRA').value.trim();
            
            if (!newRA) {
                showError('Digite um RA v√°lido');
                return;
            }

            showLoading('Aprovando RA...');
            
            try {
                const success = await dataManager.approveRA(newRA);
                
                if (success) {
                    document.getElementById('newRA').value = '';
                    loadRAList();
                    showSuccess(`RA ${newRA} aprovado com sucesso!`);
                } else {
                    showError('RA j√° estava aprovado');
                }
            } catch (error) {
                showError('Erro ao aprovar RA');
            }
        }

        function closeAdminPanel() {
            showLoginScreen();
        }

        // MODIFICADO: Fun√ß√£o logout com salvamento
        function logout() {
            // Salva o progresso antes de sair
            if (dataManager.currentUser) {
                saveCurrentProgress();
            }
            
            dataManager.currentUser = null;
            gameState = {
                currentLesson: 1,
                completedLessons: [],
                unlockedLessons: [1],
                totalXP: 0,
                level: 1,
                achievements: [],
                streak: 1,
                portfolioItems: 0,
                activities: {},
                quizzes: {},
                selectedQuizOption: null
            };
            showLoginScreen();
        }

        function showProgressStats() {
            const stats = getDetailedStats();
            const statsDiv = document.getElementById('progressStats');
            
            statsDiv.innerHTML = `
                <div style="background: var(--light-bg); padding: 1rem; border-radius: 8px;">
                    <strong>Estat√≠sticas Gerais:</strong><br>
                    üë• Total de Alunos: ${stats.totalStudents}<br>
                    üéØ Alunos Ativos: ${stats.activeStudents}<br>
                    üìà XP M√©dio: ${stats.avgXP}<br>
                    ‚úÖ Li√ß√µes M√©dias Completas: ${stats.avgCompletion || 0}/8<br>
                </div>
            `;
            
            statsDiv.style.display = 'block';
        }

        // Main application functions
        function loadMainApp() {
            document.getElementById('loginScreen').classList.add('hidden');
            document.getElementById('mainApp').classList.remove('hidden');
            updateUI();
            loadLesson(gameState.currentLesson);
            
            // REMOVIDO: Demo progress (agora usa dados reais salvos)
        }

        function showNotification(message) {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.classList.add('show');
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // MODIFICADO: Fun√ß√£o addXP com salvamento autom√°tico
        function addXP(amount) {
            const oldLevel = gameState.level;
            gameState.totalXP += amount;
            gameState.level = Math.floor(gameState.totalXP / 1000) + 1;
            
            if (gameState.level > oldLevel) {
                showNotification(`üéâ LEVEL UP! Agora voc√™ √© Level ${gameState.level}!`);
            }
            
            updateUI();
            saveCurrentProgress(); // NOVO: Salva automaticamente
        }

        // MODIFICADO: Fun√ß√£o completeLesson com salvamento autom√°tico
        function completeLesson(lessonId) {
            if (!gameState.completedLessons.includes(lessonId)) {
                gameState.completedLessons.push(lessonId);
                addXP(200);
                
                if (lessonId < lessons.length && !gameState.unlockedLessons.includes(lessonId + 1)) {
                    gameState.unlockedLessons.push(lessonId + 1);
                    showNotification(`üîì Nova li√ß√£o desbloqueada!`);
                }
                
                updateUI();
                saveCurrentProgress(); // NOVO: Salva automaticamente
            }
        }

        function updateUI() {
            // Update header progress
            const xpProgress = (gameState.totalXP % 1000) / 1000 * 100;
            document.getElementById('headerXpBar').style.width = `${xpProgress}%`;
            document.getElementById('headerXpText').textContent = `${gameState.totalXP % 1000}/1000`;
            
            const lessonProgress = gameState.completedLessons.length / lessons.length * 100;
            document.getElementById('headerProgressBar').style.width = `${lessonProgress}%`;
            document.getElementById('headerProgressText').textContent = `${gameState.completedLessons.length}/${lessons.length}`;
            
            document.getElementById('headerLevel').textContent = `LEVEL ${gameState.level}`;
            
            // Update sidebar stats
            document.getElementById('totalXP').textContent = gameState.totalXP.toLocaleString();
            document.getElementById('completedLessons').textContent = gameState.completedLessons.length;
            document.getElementById('streakDays').textContent = gameState.streak;
            document.getElementById('portfolioItems').textContent = gameState.portfolioItems;
            document.getElementById('weeklyProgress').textContent = `${gameState.completedLessons.length}/${lessons.length} li√ß√µes`;
            
            updateCurriculum();
            updateAchievements();
        }

        function updateCurriculum() {
            const container = document.getElementById('module1Lessons');
            container.innerHTML = '';
            
            lessons.forEach(lesson => {
                const isUnlocked = gameState.unlockedLessons.includes(lesson.id);
                const isCompleted = gameState.completedLessons.includes(lesson.id);
                const isCurrent = lesson.id === gameState.currentLesson;
                
                const lessonEl = document.createElement('div');
                lessonEl.className = `lesson-item ${isCompleted ? 'completed' : ''} ${isCurrent ? 'active' : ''} ${!isUnlocked ? 'locked' : ''}`;
                
                lessonEl.innerHTML = `
                    <div class="lesson-icon">${lesson.icon}</div>
                    <div class="lesson-info">
                        <div class="lesson-title">${lesson.title}</div>
                        <div class="lesson-duration">${lesson.duration}</div>
                    </div>
                    <div class="lesson-status">
                        ${isCompleted ? '‚úÖ' : (isUnlocked ? '‚ñ∂Ô∏è' : 'üîí')}
                    </div>
                `;
                
                if (isUnlocked) {
                    lessonEl.addEventListener('click', () => loadLesson(lesson.id));
                }
                
                container.appendChild(lessonEl);
            });
        }

        function updateAchievements() {
            const grid = document.getElementById('achievementsGrid');
            grid.innerHTML = '';
            
            lessons.forEach(lesson => {
                const isUnlocked = gameState.completedLessons.includes(lesson.id);
                
                const badge = document.createElement('div');
                badge.className = `achievement-badge ${isUnlocked ? 'unlocked' : 'locked'}`;
                badge.textContent = isUnlocked ? lesson.icon : 'üîí';
                badge.title = lesson.title;
                
                grid.appendChild(badge);
            });
        }

        // MODIFICADO: Fun√ß√£o loadLesson com salvamento autom√°tico
        function loadLesson(lessonId) {
            const lesson = lessons.find(l => l.id === lessonId);
            if (!lesson || !gameState.unlockedLessons.includes(lessonId)) return;
            
            gameState.currentLesson = lessonId;
            
            // Update content
            document.getElementById('lessonTitle').textContent = lesson.title;
            document.getElementById('lessonSubtitle').textContent = lesson.subtitle;
            document.getElementById('lessonObjective').textContent = lesson.objective;
            
            // Update sections
            updateConcepts(lesson.concepts);
            updateMaterials(lesson.materials);
            updatePortfolio(lesson.portfolio);
            updateActivities(lesson.activities, lessonId);
            updateQuiz(lesson.quiz, lessonId);
            updateSimulator(lesson.simulator);
            updateNavigationButtons();
            
            updateUI();
            saveCurrentProgress(); // NOVO: Salva automaticamente
        }

        function updateConcepts(concepts) {
            const container = document.getElementById('conceptsContent');
            container.innerHTML = '';
            
            concepts.forEach((concept, index) => {
                const conceptEl = document.createElement('div');
                conceptEl.className = 'concept-card';
                conceptEl.innerHTML = `
                    <h4 class="concept-title">${concept.title}</h4>
                    <div class="concept-explanation">${concept.explanation}</div>
                    <div class="concept-example">${concept.example}</div>
                `;
                
                conceptEl.addEventListener('click', () => {
                    speakText(`${concept.explanation}`, concept.title);
                    addXP(5);
                });
                
                container.appendChild(conceptEl);
            });
        }

        function updateMaterials(materials) {
            const container = document.getElementById('materialsList');
            container.innerHTML = '';
            
            materials.forEach((material, index) => {
                const materialEl = document.createElement('div');
                materialEl.className = 'material-item';
                materialEl.innerHTML = `
                    <div style="font-size: 1.5rem; color: var(--accent);">üìÑ</div>
                    <div style="flex: 1;">
                        <h4 style="font-weight: 600; margin-bottom: 0.3rem;">${material}</h4>
                        <p style="font-size: 0.9rem; opacity: 0.7;">Clique para acessar</p>
                    </div>
                `;
                materialEl.addEventListener('click', () => {
                    showNotification('Material acessado! +10 XP');
                    addXP(10);
                });
                container.appendChild(materialEl);
            });
        }

        function updatePortfolio(portfolio) {
            const container = document.getElementById('portfolioContent');
            if (!portfolio) {
                document.getElementById('portfolioSection').style.display = 'none';
                return;
            }
            
            document.getElementById('portfolioSection').style.display = 'block';
            container.innerHTML = `
                <div style="margin-bottom: 2rem;">
                    <h3 style="color: var(--primary); font-weight: 600; margin-bottom: 1rem; font-size: 1.2rem;">${portfolio.title}</h3>
                    <p style="line-height: 1.6; margin-bottom: 1.5rem;">${portfolio.description}</p>
                    
                    <div class="git-folder">
                        <div class="git-folder-title">
                            üìÅ Estrutura Git: <code>${portfolio.gitFolder}</code>
                        </div>
                        <div style="font-family: monospace; font-size: 0.9rem; line-height: 1.4; color: var(--dark-text);">
                            <div style="margin: 0.5rem 0;">
                                <strong>Comandos Git sugeridos:</strong><br>
                                <code>git add .</code><br>
                                <code>git commit -m "${portfolio.title} - Li√ß√£o ${gameState.currentLesson} completa"</code><br>
                                <code>git push origin main</code>
                            </div>
                        </div>
                    </div>
                    
                    <button class="sim-button" onclick="addPortfolioItem()" style="margin-top: 1rem;">
                        üíæ Salvar no Portfolio + Git
                    </button>
                </div>
            `;
        }

        // MODIFICADO: Fun√ß√£o addPortfolioItem com salvamento autom√°tico
        function addPortfolioItem() {
            gameState.portfolioItems++;
            addXP(50);
            showNotification('Item adicionado ao portfolio! +50 XP');
            updateUI();
            saveCurrentProgress(); // NOVO: Salva automaticamente
        }

        function updateActivities(activities, lessonId) {
            const container = document.getElementById('activitiesList');
            container.innerHTML = '';
            
            activities.forEach((activity, index) => {
                const activityId = `${lessonId}-${index}`;
                const isCompleted = gameState.activities[activityId];
                
                const activityEl = document.createElement('div');
                activityEl.className = 'activity-item';
                activityEl.innerHTML = `
                    <div class="activity-checkbox ${isCompleted ? 'checked' : ''}" onclick="toggleActivity('${activityId}')">
                        ${isCompleted ? '‚úì' : ''}
                    </div>
                    <div>${activity}</div>
                `;
                container.appendChild(activityEl);
            });
        }

        // MODIFICADO: Fun√ß√£o toggleActivity com salvamento autom√°tico
        function toggleActivity(activityId) {
            gameState.activities[activityId] = !gameState.activities[activityId];
            
            if (gameState.activities[activityId]) {
                addXP(25);
                showNotification('+25 XP por completar atividade!');
            }
            
            const lesson = lessons.find(l => l.id === gameState.currentLesson);
            updateActivities(lesson.activities, gameState.currentLesson);
            checkLessonCompletion();
            saveCurrentProgress(); // NOVO: Salva automaticamente
        }

        function updateQuiz(quiz, lessonId) {
            const quizSection = document.getElementById('quizSection');
            if (!quiz) {
                quizSection.style.display = 'none';
                return;
            }
            
            quizSection.style.display = 'block';
            document.getElementById('quizQuestion').textContent = quiz.question;
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            quiz.options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'quiz-option';
                optionEl.textContent = option;
                optionEl.addEventListener('click', () => selectQuizOption(index));
                optionsContainer.appendChild(optionEl);
            });
            
            document.getElementById('submitQuiz').onclick = () => submitQuiz(lessonId, quiz.correct);
        }

        function selectQuizOption(index) {
            gameState.selectedQuizOption = index;
            document.querySelectorAll('.quiz-option').forEach((option, i) => {
                option.classList.toggle('selected', i === index);
            });
        }

        // MODIFICADO: Fun√ß√£o submitQuiz com salvamento autom√°tico
        function submitQuiz(lessonId, correctAnswer) {
            if (gameState.selectedQuizOption === null) {
                showNotification('Selecione uma resposta primeiro!');
                return;
            }
            
            const isCorrect = gameState.selectedQuizOption === correctAnswer;
            gameState.quizzes[lessonId] = isCorrect;
            
            // Show correct/incorrect feedback
            document.querySelectorAll('.quiz-option').forEach((option, index) => {
                if (index === correctAnswer) {
                    option.classList.add('correct');
                } else if (index === gameState.selectedQuizOption && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            if (isCorrect) {
                addXP(100);
                showNotification('üéâ Resposta correta! +100 XP');
                checkLessonCompletion();
                saveCurrentProgress(); // NOVO: Salva automaticamente
            } else {
                showNotification('‚ùå Resposta incorreta. Tente novamente!');
                setTimeout(() => {
                    gameState.selectedQuizOption = null;
                    document.querySelectorAll('.quiz-option').forEach(option => {
                        option.classList.remove('selected', 'correct', 'incorrect');
                    });
                }, 2000);
            }
        }

        function checkLessonCompletion() {
            const lesson = lessons.find(l => l.id === gameState.currentLesson);
            const completedActivities = lesson.activities.filter((_, index) => 
                gameState.activities[`${gameState.currentLesson}-${index}`]
            ).length;
            
            const quizCompleted = gameState.quizzes[gameState.currentLesson];
            
            if (completedActivities === lesson.activities.length && quizCompleted) {
                completeLesson(gameState.currentLesson);
            }
        }

        function updateSimulator(simulatorType) {
            const simContent = document.getElementById('simContent');
            
            const simulators = {
                'python-basic': `
                    <div style="text-align: center;">
                        <h4>üêç Terminal Python Interativo</h4>
                        <div style="background: #1e1e1e; color: #00ff00; padding: 1rem; border-radius: 8px; font-family: monospace; text-align: left; margin: 1rem 0;">
                            Python 3.x Interactive Shell<br>
                            >>> <span id="python-cursor">|</span>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 2rem 0;">
                            <button class="sim-button" onclick="runPythonCommand('print(\\'Ol√°, TechStore!\\')')">print() b√°sico</button>
                            <button class="sim-button" onclick="runPythonCommand('nome = \\'Jo√£o\\'')">Criar vari√°vel</button>
                            <button class="sim-button" onclick="runPythonCommand('type(42)')">Verificar tipo</button>
                            <button class="sim-button" onclick="runPythonCommand('help(print)')">Ajuda</button>
                        </div>
                    </div>
                `,
                'variables-git': `
                    <div style="text-align: center;">
                        <h4>üíæ Laborat√≥rio: Vari√°veis + Git</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin: 2rem 0;">
                            <div>
                                <h5>Python Variables</h5>
                                <button class="sim-button" onclick="simulatorAction('variables-git', 'int')">int (n√∫meros)</button>
                                <button class="sim-button" onclick="simulatorAction('variables-git', 'str')">str (texto)</button>
                                <button class="sim-button" onclick="simulatorAction('variables-git', 'float')">float (decimais)</button>
                            </div>
                            <div>
                                <h5>Git Commands</h5>
                                <button class="sim-button" onclick="simulatorAction('variables-git', 'init')">git init</button>
                                <button class="sim-button" onclick="simulatorAction('variables-git', 'add')">git add</button>
                                <button class="sim-button" onclick="simulatorAction('variables-git', 'commit')">git commit</button>
                            </div>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px; font-family: monospace;">
                            Organize dados complexos com dicion√°rios e listas!
                        </div>
                    </div>
                `,
                'conditions-logic': `
                    <div style="text-align: center;">
                        <h4>üîÄ Simulador de Descontos</h4>
                        <div style="margin: 2rem 0;">
                            <label>Valor da Compra: R$ <input type="number" id="sim-price" value="100" style="padding: 0.5rem; margin: 0.5rem;"></label><br>
                            <label>Categoria Cliente: 
                                <select id="sim-category" style="padding: 0.5rem; margin: 0.5rem;">
                                    <option value="bronze">Bronze</option>
                                    <option value="prata">Prata</option>
                                    <option value="ouro">Ouro</option>
                                </select>
                            </label><br>
                            <button class="sim-button" onclick="calculateDiscount()">Calcular Desconto</button>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px;">
                            Configure os valores e clique para ver a l√≥gica condicional em a√ß√£o!
                        </div>
                    </div>
                `,
                'loops-testing': `
                    <div style="text-align: center;">
                        <h4>üîÑ Laborat√≥rio de Loops</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 2rem 0;">
                            <button class="sim-button" onclick="simulatorAction('loops-testing', 'for')">Loop for</button>
                            <button class="sim-button" onclick="simulatorAction('loops-testing', 'while')">Loop while</button>
                            <button class="sim-button" onclick="simulatorAction('loops-testing', 'test')">Teste Simples</button>
                            <button class="sim-button" onclick="simulatorAction('loops-testing', 'list')">Lista de Produtos</button>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px; font-family: monospace;">
                            Explore diferentes tipos de loops e testes!
                        </div>
                    </div>
                `,
                'functions-modular': `
                    <div style="text-align: center;">
                        <h4>‚öôÔ∏è Workshop de Fun√ß√µes</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 2rem 0;">
                            <button class="sim-button" onclick="simulatorAction('functions-modular', 'define')">def fun√ß√£o()</button>
                            <button class="sim-button" onclick="simulatorAction('functions-modular', 'params')">Par√¢metros</button>
                            <button class="sim-button" onclick="simulatorAction('functions-modular', 'return')">return valor</button>
                            <button class="sim-button" onclick="simulatorAction('functions-modular', 'doc')">Docstrings</button>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px; font-family: monospace;">
                            Construa fun√ß√µes modulares e reutiliz√°veis!
                        </div>
                    </div>
                `,
                'data-structures': `
                    <div style="text-align: center;">
                        <h4>üóÉÔ∏è Estruturas de Dados</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 2rem 0;">
                            <button class="sim-button" onclick="simulatorAction('data-structures', 'dict')">Dicion√°rios</button>
                            <button class="sim-button" onclick="simulatorAction('data-structures', 'list')">Listas</button>
                            <button class="sim-button" onclick="simulatorAction('data-structures', 'access')">Acessar Dados</button>
                            <button class="sim-button" onclick="simulatorAction('data-structures', 'nested')">Estruturas Aninhadas</button>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px; font-family: monospace;">
                            Organize dados complexos com dicion√°rios e listas!
                        </div>
                    </div>
                `,
                'files-docs': `
                    <div style="text-align: center;">
                        <h4>üìÅ Sistema de Arquivos</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 2rem 0;">
                            <button class="sim-button" onclick="simulatorAction('files-docs', 'write')">Escrever Arquivo</button>
                            <button class="sim-button" onclick="simulatorAction('files-docs', 'read')">Ler Arquivo</button>
                            <button class="sim-button" onclick="simulatorAction('files-docs', 'json')">JSON Format</button>
                            <button class="sim-button" onclick="simulatorAction('files-docs', 'readme')">README.md</button>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px; font-family: monospace;">
                            Salve e carregue dados permanentemente!
                        </div>
                    </div>
                `,
                'final-project': `
                    <div style="text-align: center;">
                        <h4>üèÜ TechStore Calculator v1.0</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem; margin: 2rem 0;">
                            <button class="sim-button" onclick="simulatorAction('final-project', 'menu')">Menu Principal</button>
                            <button class="sim-button" onclick="simulatorAction('final-project', 'calc')">Calculadora</button>
                            <button class="sim-button" onclick="simulatorAction('final-project', 'save')">Salvar Dados</button>
                            <button class="sim-button" onclick="simulatorAction('final-project', 'test')">Testes</button>
                        </div>
                        <div id="sim-feedback" style="margin-top: 1rem; padding: 1rem; background: var(--light-bg); border-radius: 8px; font-family: monospace;">
                            Integre todos os conceitos em um projeto completo!
                        </div>
                    </div>
                `
            };
            
            simContent.innerHTML = simulators[simulatorType] || simulators['python-basic'];
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevLessonBtn');
            const nextBtn = document.getElementById('nextLessonBtn');
            const currentId = gameState.currentLesson;
            
            // Previous button
            if (currentId > 1) {
                prevBtn.style.display = 'block';
                prevBtn.disabled = false;
            } else {
                prevBtn.style.display = 'none';
            }
            
            // Next button
            if (currentId < 8) {
                nextBtn.style.display = 'block';
                nextBtn.textContent = 'Pr√≥xima Li√ß√£o ‚û°Ô∏è';
                nextBtn.disabled = !gameState.unlockedLessons.includes(currentId + 1);
            } else {
                nextBtn.style.display = 'block';
                nextBtn.textContent = 'üè† Voltar ao In√≠cio';
                nextBtn.disabled = false;
            }
        }

        function navigateLesson(direction) {
            const currentId = gameState.currentLesson;
            
            if (direction === -1 && currentId > 1) {
                loadLesson(currentId - 1);
            } else if (direction === 1) {
                if (currentId < 8 && gameState.unlockedLessons.includes(currentId + 1)) {
                    loadLesson(currentId + 1);
                } else if (currentId === 8) {
                    loadLesson(1);
                    showNotification('Bem-vindo de volta ao in√≠cio! üè†');
                }
            }
        }

        // Simulator action handlers
        function runPythonCommand(command) {
            const cursor = document.getElementById('python-cursor');
            const terminal = cursor.parentElement;
            
            // Simulate typing
            cursor.style.display = 'none';
            terminal.innerHTML += `<br>>>> ${command}<br>`;
            
            // Simulate output based on command
            let output = '';
            if (command.includes('print')) {
                const match = command.match(/print\(['"](.+?)['"]\)/);
                output = match ? match[1] : 'Hello, World!';
            } else if (command.includes('type(')) {
                output = "&lt;class 'int'&gt;";
            } else if (command.includes('help(')) {
                output = 'Help on built-in function print...';
            } else if (command.includes('=')) {
                output = ''; // Variable assignment has no output
            }
            
            if (output) {
                terminal.innerHTML += `${output}<br>`;
            }
            
            terminal.innerHTML += `>>> <span id="python-cursor">|</span>`;
            addXP(10);
        }

        function calculateDiscount() {
            const price = parseFloat(document.getElementById('sim-price').value) || 0;
            const category = document.getElementById('sim-category').value;
            
            let discount = 0;
            let categoryBonus = 0;
            
            // Level-based discount (game context)
            if (price >= 500) {
                discount = 15;  // High level items
            } else if (price >= 200) {
                discount = 10;  // Medium level items
            } else if (price >= 100) {
                discount = 5;   // Low level items
            }
            
            // Player category bonus
            switch(category) {
                case 'ouro': categoryBonus = 5; break;    // Gold player
                case 'prata': categoryBonus = 2; break;   // Silver player  
                case 'bronze': categoryBonus = 0; break;  // Bronze player
            }
            
            const totalDiscount = discount + categoryBonus;
            const finalPrice = price * (1 - totalDiscount/100);
            
            const feedback = document.getElementById('sim-feedback');
            feedback.innerHTML = `
                <strong>Game Logic Resultado:</strong><br>
                Valor do item: ${price.toFixed(2)} moedas<br>
                Desconto por n√≠vel: ${discount}%<br>
                B√¥nus jogador ${category}: ${categoryBonus}%<br>
                Desconto total: ${totalDiscount}%<br>
                <strong>Pre√ßo final: ${finalPrice.toFixed(2)} moedas</strong>
            `;
            
            addXP(15);
        }

        function simulatorAction(simulatorType, action) {
            const explanations = {
                'variables-git': {
                    'int': 'vida_jogador = 100  # N√∫mero inteiro\nprint(type(vida_jogador))  # <class \'int\'>',
                    'str': 'nome_heroi = "DragonSlayer"  # String (texto)\nprint(len(nome_heroi))  # 11 caracteres',
                    'float': 'velocidade = 5.5  # N√∫mero decimal\nprint(f"Velocidade: {velocidade}")  # Velocidade: 5.5',
                    'init': 'git init  # Inicializa reposit√≥rio Git\n# Cria pasta .git para versionar seu jogo',
                    'add': 'git add .  # Adiciona todos os arquivos do jogo\n# Prepara c√≥digo do jogo para commit',
                    'commit': 'git commit -m "Sistema de vida implementado"  # Salva altera√ß√µes\n# Cria snapshot do projeto de jogo'
                },
                'loops-testing': {
                    'for': 'inimigos = ["Goblin", "Orc", "Dragon"]\nfor inimigo in inimigos:\n    print(f"Spawning: {inimigo}")',
                    'while': 'vida = 100\nwhile vida > 0:\n    print(f"Jogador vivo: {vida} HP")\n    vida -= 20  # Toma dano',
                    'test': 'def calcular_dano(ataque, defesa):\n    return max(0, ataque - defesa)\n\nassert calcular_dano(50, 20) == 30\nprint("Sistema de combate OK!")',
                    'list': 'inventario = ["Espada", "Po√ß√£o", "Escudo", "Moeda"]\nprint(f"Itens no invent√°rio: {len(inventario)}")'
                },
                'functions-modular': {
                    'define': 'def calcular_experiencia(nivel_inimigo, bonus=1.0):\n    """Calcula XP ganho ao derrotar inimigo"""\n    return int(nivel_inimigo * 100 * bonus)',
                    'params': 'def criar_personagem(nome, classe="Guerreiro"):\n    """Cria personagem com classe opcional"""\n    return f"{nome} the {classe}"',
                    'return': 'def level_up_check(xp_atual, xp_necessario):\n    if xp_atual >= xp_necessario: \n        return True, xp_atual - xp_necessario\n    return False, 0',
                    'doc': 'def processar_combate(atacante, defensor):\n    """\n    Processa round de combate\n    \n    Args:\n        atacante (dict): Stats do atacante\n        defensor (dict): Stats do defensor\n    \n    Returns:\n        dict: Resultado do combate\n    """'
                },
                'data-structures': {
                    'dict': 'jogador = {\n    "nome": "Her√≥i",\n    "vida": 100,\n    "mana": 50,\n    "nivel": 5,\n    "classe": "Mago"\n}',
                    'list': 'inventario = ["Espada M√°gica", "Po√ß√£o de Vida", "Anel de Poder"]\nhabilidades = ["Fireball", "Heal", "Lightning"]',
                    'access': 'print(jogador["vida"])  # 100\nprint(inventario[0])  # Espada M√°gica\njogador["vida"] = 80  # Toma dano',
                    'nested': 'jogo = {\n    "jogador": {\n        "nome": "Her√≥i",\n        "stats": {"vida": 100, "mana": 50}\n    },\n    "inimigos": [\n        {"nome": "Goblin", "vida": 30},\n        {"nome": "Dragon", "vida": 200}\n    ]\n}'
                },
                'files-docs': {
                    'write': 'import json\nsave_data = {"nivel": 5, "vida": 80, "pontuacao": 2500}\nwith open("savegame.json", "w") as f:\n    json.dump(save_data, f)',
                    'read': 'with open("savegame.json", "r") as f:\n    progresso = json.load(f)\n    print(f"N√≠vel carregado: {progresso["nivel"]}")',
                    'json': 'config_jogo = {\n    "dificuldade": "Normal",\n    "volume": 0.8,\n    "controles": {"pular": "SPACE", "atacar": "X"}\n}',
                    'readme': '# Meu Primeiro Jogo\n\n## Como jogar:\n```python\nfrom jogo import iniciar_aventura\niniciar_aventura()\n```\n\n## Controles:\n- WASD: Movimento\n- Espa√ßo: Pular'
                },
                'final-project': {
                    'menu': 'def menu_principal():\n    print("=== GameEngine v1.0 ===")\n    print("1. Nova aventura")\n    print("2. Carregar jogo")\n    print("3. Configura√ß√µes")\n    print("0. Sair")',
                    'calc': 'def processar_combate(ataque_jogador, defesa_inimigo):\n    dano = max(0, ataque_jogador - defesa_inimigo)\n    critico = random.random() < 0.1  # 10% chance\n    return dano * 2 if critico else dano',
                    'save': 'def salvar_progresso(jogador, nivel_atual):\n    save_data = {\n        "jogador": jogador,\n        "nivel": nivel_atual,\n        "timestamp": time.time()\n    }\n    with open("save.json", "w") as f:\n        json.dump(save_data, f)',
                    'test': 'def test_sistema_combate():\n    dano = processar_combate(50, 20)\n    assert dano >= 30  # Dano m√≠nimo\n    assert dano <= 60  # Dano m√°ximo com cr√≠tico\n    print("Sistema de combate validado!")'
                }
            };
            
            const feedback = explanations[simulatorType]?.[action] || 'Funcionalidade em desenvolvimento...';
            const feedbackEl = document.getElementById('sim-feedback');
            if (feedbackEl) {
                feedbackEl.textContent = feedback;
            }
            
            addXP(10);
            showNotification('üêç +10 XP por explorar Python com a Estela!');
        }

        // Text-to-Speech functions
        function speakText(text, context = '') {
            const indicator = document.getElementById('speakingIndicator');
            const message = document.getElementById('mentorMessage');
            
            indicator.classList.add('active');
            message.textContent = `Explicando: ${context || text.substring(0, 50)}...`;
            
            setTimeout(() => {
                indicator.classList.remove('active');
                message.textContent = 'Explica√ß√£o conclu√≠da! Clique em outras se√ß√µes ou no bot√£o "Ler toda a li√ß√£o".';
            }, 3000);
            
            addXP(5);
        }

        function speakObjective() {
            const lesson = lessons.find(l => l.id === gameState.currentLesson);
            if (lesson) {
                speakText(lesson.objective, 'Objetivo da Li√ß√£o');
            }
        }

        function speakSection(section) {
            const lesson = lessons.find(l => l.id === gameState.currentLesson);
            if (!lesson) return;
            
            if (section === 'concepts') {
                const text = lesson.concepts.map(c => `${c.title}: ${c.explanation}`).join(' ');
                speakText(text, 'Conceitos Fundamentais');
            }
        }

        function speakFullLesson() {
            const lesson = lessons.find(l => l.id === gameState.currentLesson);
            if (!lesson) return;
            
            let fullText = `Bem-vindo √† li√ß√£o ${lesson.title}. `;
            fullText += `Objetivo: ${lesson.objective} `;
            fullText += lesson.concepts.map(c => `${c.title}: ${c.explanation}`).join(' ');
            
            speakText(fullText, 'Li√ß√£o Completa');
            addXP(25);
        }

        function stopSpeech() {
            const indicator = document.getElementById('speakingIndicator');
            const message = document.getElementById('mentorMessage');
            
            indicator.classList.remove('active');
            message.textContent = 'Narra√ß√£o parada. Clique em qualquer se√ß√£o para eu explicar!';
        }

        function changeSpeed() {
            showNotification('Velocidade de narra√ß√£o alterada!');
        }

        // Backup autom√°tico a cada 5 minutos
        setInterval(() => {
            if (dataManager.currentUser) {
                saveCurrentProgress();
            }
        }, 5 * 60 * 1000); // 5 minutos

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Login form
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            
            // Audio controls
            document.getElementById('playBtn').addEventListener('click', speakObjective);
            document.getElementById('stopBtn').addEventListener('click', stopSpeech);
            document.getElementById('speedBtn').addEventListener('click', changeSpeed);
            document.getElementById('readAllBtn').addEventListener('click', speakFullLesson);
            
            // Initialize application
            init();
        });

        // Make functions global for onclick handlers
        window.showAdminPanel = showAdminPanel;
        window.verifyAdminPassword = verifyAdminPassword;
        window.approveRA = approveRA;
        window.closeAdminPanel = closeAdminPanel;
        window.logout = logout;
        window.addPortfolioItem = addPortfolioItem;
        window.toggleActivity = toggleActivity;
        window.navigateLesson = navigateLesson;
        window.simulatorAction = simulatorAction;
        window.runPythonCommand = runPythonCommand;
        window.calculateDiscount = calculateDiscount;
        window.speakObjective = speakObjective;
        window.speakSection = speakSection;
        window.speakFullLesson = speakFullLesson;
        window.stopSpeech = stopSpeech;
        window.changeSpeed = changeSpeed;
        window.showProgressStats = showProgressStats;
    </script>
</body>
</html>
